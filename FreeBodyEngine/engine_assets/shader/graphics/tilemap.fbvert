@input
vertex: vec4
texcoord: vec2

@uniform
proj: mat4
view: mat4
model: mat4
chunk_pos: vec2

@output
uv: vec2
image_id: flat int
spritesheet_id: flat int

def main():
    uv = texcoord
    image_id = int(round(vertex.z))
    spritesheet_id = int(round(vertex.w))
    chunk_world_pos: vec2 = chunk_pos * _ENGINE_CHUNK_WORLD_SIZE
    VERTEX_POSITION = proj * view * model * vec4(vertex.xy + chunk_world_pos, 0.0, 1.0)
